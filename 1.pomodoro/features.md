# 実装機能一覧（Features）

## 目的
ポモドーロタイマーWebアプリで実装する機能を網羅的に列挙し、優先度と簡単な受け入れ条件を付与する。

## 必須（MVP）
- タイマー制御
  - 機能: 開始 / 一時停止 / 再開 / リセット
  - 受け入れ条件: UI上で操作でき、時間が正しくカウントダウンすること
- タイマー種別設定
  - 機能: ワーク（デフォルト25分）/ 短い休憩 / 長い休憩 を選択・設定可能
  - 受け入れ条件: 各モードで指定時間が適用されること
- サイクル管理
  - 機能: ポモドーロの回数（例: 4回で長い休憩）を追跡
  - 受け入れ条件: 指定サイクルで長休憩に切替わること
- 円形プログレス表示
  - 機能: SVG もしくは Canvas で残り時間を円形に表示
  - 受け入れ条件: 視覚的に残り時間が確認できること
- ローカル同期
  - 機能: 開始/完了イベントを `localStorage` に保存し、未送信イベントは再送する
  - 受け入れ条件: オフラインでも開始→復帰後にサーバへ同期されること（API 実装時）
- バックエンド API（記録用）
  - 機能: `/api/start`, `/api/complete`, `/api/stats` 等の実装（Flask + SQLite）
  - 受け入れ条件: ポモドーロの開始/完了が DB に正しく記録されること
- 今日の進捗表示
  - 機能: 完了数・合計集中時間をダッシュボードに表示
  - 受け入れ条件: 日付を切り替えた集計が正しく表示されること

## 推奨（優先度中）
- 通知機能
  - 機能: ブラウザのデスクトップ通知とサウンドで終了を知らせる
  - 受け入れ条件: ユーザー許可を取った上で通知が届くこと
- 設定画面
  - 機能: 各モードの時間、サウンド、オートスタートの設定を保持
  - 受け入れ条件: 設定が保存され、次回起動時に反映されること
- 履歴一覧
  - 機能: 日ごとのセッション履歴（一覧・フィルタ）を表示
  - 受け入れ条件: DBの記録を日付/種別で絞れること
- 同期キューと再送ロジック
  - 機能: ネットワークエラー時の再試行戦略（指数バックオフ等）

## オプション（低優先度）
- リアルタイム同期（WebSocket）
  - 機能: 複数タブや複数端末間での状態同期
- 認証/ユーザーアカウント
  - 機能: ユーザー毎にデータを保存しクラウド同期
- E2E テストと CI
  - 機能: Playwright 等で主要操作の E2E テストを作成、GitHub Actions で実行
- インポート/エクスポート（CSV）
  - 機能: 履歴データをエクスポート/インポート

## テスト観点（各機能共通）
- ユニットテスト: ビジネスロジック（`timer_service`、`timer_logic.js`）を重点的に
- API テスト: in-memory DB を用いた統合テスト（`/api/start` 等）
- フロントテスト: UIロジックは単体テスト、E2Eで実使用を検証

## 優先度サマリ
1. 必須（MVP）機能をすべて実装してリリース可能な状態を目指す
2. 推奨機能で UX を向上させる
3. オプションは利用者ニーズに応じて後から追加する

---
作成日: 2026-02-24
